!function(a,b){"object"==typeof exports?module.exports=b(require("izzy"),require("umodel")):"function"==typeof define&&define.amd?define("Bo",["izzy","umodel"],b):a.Bo=b(a.izzy,a.umodel)}(this,function(a,b){var c,d=[].slice;c={each:function(b,c){var d,e,f,g,h,i;if(a.array(b)){for(h=[],d=f=0,g=b.length;g>f;d=++f)e=b[d],h.push(c(e,d));return h}if(a.object(b)){i=[];for(d in b)e=b[d],i.push(c(e,d));return i}},extend:function(){var a,b,c,e,f,g;if(b=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],b&&e)for(f=0,g=e.length;g>f;f++){c=e[f];for(a in c)b[a]=c[a]}return b},fluent:function(a){return function(){return a.apply(this,arguments),this}},one:function(a){var b;for(b in a)return b}};var e,f=function(a,b){return function(){return a.apply(b,arguments)}},d=[].slice;e=function(){function e(){var b,e;e=arguments[0],b=2<=arguments.length?d.call(arguments,1):[],this.attachEvent=f(this.attachEvent,this),this.element=e||document,a.object(this.events)&&c.each(this.events,this.attachEvent),a["function"](this.initialize)&&this.initialize.apply(this,b)}return e.prototype.events={},e.prototype.model=new b,e.prototype.initialize=function(){},e.prototype.attachEvent=function(a,b){var c,d,e,f,g;for(d=b.split(" "),g=[],e=0,f=d.length;f>e;e++)c=d[e],g.push(this.element.addEventListener(c,this[a]));return g},e}();var g,h,i,j,f=function(a,b){return function(){return a.apply(b,arguments)}};j=0,i=function(a){var b;return b=document.createElement("div"),b.setAttribute("data-bo-pane",a),document.body.appendChild(b),b},h=function(a){return"pane"+a},g=function(){function a(a){var b,c,d;this.options=a,this.clearAnimation=f(this.clearAnimation,this),++j,b=this.options.element,c=this.options.html,d=b?b.getAttribute("data-bo-pane"):void 0,this.id=this.options.id||d||h(j),this.element=b||i(this.id),this.index=this.options.index||j,this.element.setAttribute("data-bo-pane",this.id),c&&(this.element.innerHTML=c)}return a.prototype.id=null,a.prototype.element=null,a.prototype.clearAnimation=function(){return this.element.classList.remove("animate")},a.prototype.animate=function(a){return a?void 0:(this.element.classList.add("animate"),setTimeout(this.clearAnimation,this.options.animationDuration))},a.prototype.left=c.fluent(function(a){return this.animate(a),this.element.classList.remove("right"),this.element.classList.add("left")}),a.prototype.right=c.fluent(function(a){return this.animate(a),this.element.classList.remove("left"),this.element.classList.add("right")}),a.prototype.show=c.fluent(function(a){return this.animate(a),this.element.classList.remove("left"),this.element.classList.remove("right")}),a}();var k,l,f=function(a,b){return function(){return a.apply(b,arguments)}},m={}.hasOwnProperty,n=function(a,b){function c(){this.constructor=a}for(var d in b)m.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};return k=function(a){function b(){return this.click=f(this.click,this),this.registerPane=f(this.registerPane,this),l=b.__super__.constructor.apply(this,arguments)}return n(b,a),b.prototype.options={animationDuration:200,paneAttribute:"data-bo-pane",paneTriggerAttribute:"data-bo-trigger-pane"},b.prototype.events={"touchstart click":"click"},b.prototype.panes={},b.prototype.initialize=function(){var a;return this.model.set("active",null),a=document.querySelectorAll("["+this.options.paneAttribute+"]"),c.each(a,this.registerPane),this.hideAll(),this.displayBlock(),this.show(c.one(this.panes))},b.prototype.displayBlock=function(){return this.iterate(function(a){return a.element.style.display="block"})},b.prototype.registerPane=function(a){var b,d;return b="String"==typeof a||"Number"==typeof a?{id:a}:{element:a},b=c.extend(b,this.options),d=new g(b),this.panes[d.id]=d},b.prototype.iterate=function(a){return c.each(this.panes,a)},b.prototype.hideAll=function(){return this.iterate(function(a){return a.right(!0)})},b.prototype.restToLeft=function(a){return this.iterate(function(b){return b.index<a?b.left(!0):void 0})},b.prototype.restToRight=function(a){return this.iterate(function(b){return b.index>a?b.right(!0):void 0})},b.prototype.show=function(a){var b,c,d;if(c=this.panes[a],d=this.model.get("active"),!c)throw new Error('Pane with ID "'+a+'" does not exist in the DOM, or is not registered with Bo.');return d?(b=c.index,b>d.index?(d.left(),c.right(!0).show(),this.restToLeft(b)):(d.right(),c.left(!0).show(),this.restToRight(b))):c.show(!0),this.model.set("active",c)},b.prototype.click=function(a){var b;return b=a.target.getAttribute(this.options.paneTriggerAttribute),b?(a.preventDefault(),this.show(b)):void 0},b}(e)});